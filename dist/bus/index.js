"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var Bus=function(){function a(b){var c=b.busChannelFactory,d=b.channels;_classCallCheck(this,a),this.busChannelFactory=c,this.channels=d}return _createClass(a,[{key:"addChannel",value:function addChannel(a){if(!this.getChannel(a)){var b=this.busChannelFactory.create(a);this.channels.add(a,b)}}},{key:"deleteChannel",value:function deleteChannel(a){this.channels.remove(a)}},{key:"getChannel",value:function getChannel(a){return this.channels.get(a)}},{key:"publish",value:function publish(a){var b=a.channelId,c=a.actionId,d=a.emitter,e=a.type,f=a.payload;this.getChannel(b).publish({id:c,emitter:d,type:e,payload:f})}},{key:"subscribe",value:function subscribe(a){var b=a.channelId,c=a.actionId,d=a.callback;return this.getChannel(b).subscribe({actionId:c,callback:d})}},{key:"subscribeOnce",value:function subscribeOnce(a){var b=a.channelId,c=a.actionId,d=a.callback;this.getChannel(b).subscribeOnce({actionId:c,callback:d})}},{key:"subscribeAll",value:function subscribeAll(a){var b=a.channelId,c=a.callback;this.getChannel(b).subscribeAll(c)}},{key:"unsubscribe",value:function unsubscribe(a){var b=a.channelId,c=a.actionId,d=a.callback;this.getChannel(b).unsubscribe({actionId:c,callback:d})}},{key:"unsubscribeAll",value:function unsubscribeAll(a){var b=a.channelId,c=a.actionId;this.getChannel(b).unsubscribeAll(c)}},{key:"reset",value:function reset(a){this.getChannel(a).reset()}}]),a}();module.exports=Bus;